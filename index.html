<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>八本家 (Hachihonke) | 連鎖事業發展企劃書</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #fdfbf7; color: #1f2937; }
        .brand-text { color: #d97706; }
        .bg-brand { background-color: #d97706; }
        .bg-brand-light { background-color: #fff7ed; }
        
        /* 心智圖節點樣式 - 徹底解決重疊與排版 */
        #mindmap-section {
            height: 600px;
            position: relative;
            background-image: radial-gradient(#e5e7eb 1.2px, transparent 1.2px);
            background-size: 20px 20px;
        }
        .node {
            position: absolute;
            padding: 10px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            white-space: nowrap;
            transform: translate(-50%, -50%);
            z-index: 10;
        }
        .node-center { background: #1f2937; color: white; font-weight: 700; border: 3px solid #d97706; }
        .node-branch { background: #d97706; color: white; font-weight: 600; font-size: 0.95rem; }
        .node-leaf { background: #ffffff; color: #4b5563; border: 1px solid #e5e7eb; font-size: 0.85rem; }
        .node:hover { transform: translate(-50%, -55%) scale(1.05); box-shadow: 0 10px 15px rgba(0,0,0,0.1); }
        
        #mindmap-svg { position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; }
        .chart-container { position: relative; width: 100%; height: 400px; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1); }
    </style>
</head>
<body class="antialiased">

    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-orange-100 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 h-16 flex justify-between items-center">
            <div class="flex items-center">
                <span class="text-2xl font-bold brand-text">八本家</span>
                <span class="ml-3 text-xs text-gray-400 border-l border-gray-300 pl-3 hidden sm:block">連鎖事業發展企劃</span>
            </div>
            <div class="hidden md:flex space-x-8 text-sm font-medium text-gray-600">
                <button onclick="scrollToId('strategy')" class="hover:text-amber-600 transition">市場定位</button>
                <button onclick="scrollToId('ecosystem')" class="hover:text-amber-600 transition">品牌生態</button>
                <button onclick="scrollToId('financial')" class="hover:text-amber-600 transition">財務模型</button>
                <button onclick="scrollToId('store')" class="hover:text-amber-600 transition">營運DX</button>
            </div>
            <button class="bg-brand text-white px-5 py-2 rounded-full text-sm font-bold shadow-md hover:bg-amber-700 transition">投資洽談</button>
        </div>
    </nav>

    <header class="relative overflow-hidden bg-brand-light pt-16 pb-20">
        <div class="max-w-7xl mx-auto px-4 text-center relative z-10">
            <div class="inline-block px-4 py-1.5 rounded-full bg-orange-100 text-orange-700 text-sm font-semibold mb-6">股東募資計畫 2026-2032</div>
            <h1 class="text-4xl md:text-6xl font-extrabold text-gray-900 mb-6">打造<span class="brand-text">住商型平價精緻鍋物</span>新標竿</h1>
            <p class="mt-4 max-w-2xl mx-auto text-lg text-gray-600 mb-10">以數位化營運降低成本，以高 CP 值體驗搶佔市場。六年內達成全台六家直營，年營收突破 6,000 萬。</p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-orange-100 card-hover transition-all">
                    <p class="text-sm text-gray-500 font-medium">預估淨利率</p>
                    <p class="text-4xl font-bold brand-text mt-2">13-18%</p>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-orange-100 card-hover transition-all">
                    <p class="text-sm text-gray-500 font-medium">單店年營收目標</p>
                    <p class="text-4xl font-bold text-gray-800 mt-2">1,000 萬</p>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-orange-100 card-hover transition-all">
                    <p class="text-sm text-gray-500 font-medium">投資回收期</p>
                    <p class="text-4xl font-bold text-gray-800 mt-2">18-24月</p>
                </div>
            </div>
        </div>
    </header>

    <section id="strategy" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-bold text-gray-900">核心策略定位</h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-gray-50 p-8 rounded-2xl border border-gray-100">
                    <h3 class="text-xl font-bold mb-6 flex items-center"><span class="w-1.5 h-6 bg-brand mr-3"></span>產品優勢</h3>
                    <ul class="space-y-4 text-gray-600">
                        <li class="flex items-center">✓ 平價精緻定位：NT$ 260 - 350</li>
                        <li class="flex items-center">✓ 特色湯底：招牌麻辣、熟成藥膳</li>
                        <li class="flex items-center">✓ 超值感：副食自助無限供應</li>
                    </ul>
                </div>
                <div class="bg-gray-50 p-8 rounded-2xl border border-gray-100">
                    <h3 class="text-xl font-bold mb-6 flex items-center"><span class="w-1.5 h-6 bg-gray-800 mr-3"></span>選址策略</h3>
                    <ul class="space-y-4 text-gray-600">
                        <li class="flex items-center">✓ 住商混合型區域，確保全時段客流</li>
                        <li class="flex items-center">✓ 租金控管於 8 萬/月以內</li>
                        <li class="flex items-center">✓ 總成本佔比低於 10%</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="ecosystem" class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900">總部支援與品牌生態</h2>
                <p class="text-gray-500 mt-2">強大中台系統支撐前端門市穩定獲利</p>
            </div>
            <div class="relative bg-white rounded-3xl shadow-xl border border-gray-200 overflow-hidden">
                <div id="mindmap-section">
                    <svg id="mindmap-svg"></svg>
                    <div id="mindmap-container" class="w-full h-full relative"></div>
                </div>
            </div>
        </div>
    </section>

    <section id="financial" class="py-20 bg-brand-light">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900">六年成長計畫：滾動式投資</h2>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
                <div class="lg:col-span-4 bg-white p-8 rounded-2xl shadow-lg border-t-4 border-brand">
                    <div id="year-display" class="mb-6">
                        <span class="text-sm text-gray-400">目前展示</span>
                        <div class="text-4xl font-black text-gray-900">第 <span id="current-year" class="brand-text">1</span> 年</div>
                    </div>
                    <div class="space-y-4 mb-8">
                        <div class="flex justify-between border-b pb-2"><span>營運店數</span><span id="current-stores" class="font-bold">1 家</span></div>
                        <div class="flex justify-between border-b pb-2"><span>預估營收</span><span id="current-revenue" class="font-bold text-gray-900">1,000 萬</span></div>
                        <div class="flex justify-between border-b pb-2"><span>預估淨利</span><span id="current-profit" class="font-bold text-green-600">150 萬</span></div>
                        <div class="bg-gray-50 p-4 rounded-lg"><p id="current-note" class="text-sm text-gray-600">建立單店獲利模型</p></div>
                    </div>
                    <button id="play-btn" class="w-full bg-gray-900 text-white font-bold py-3 rounded-xl hover:bg-gray-800 transition">▶ 播放成長演示</button>
                </div>
                <div class="lg:col-span-8 bg-white p-6 rounded-2xl shadow-md border">
                    <div class="chart-container"><canvas id="growthChart"></canvas></div>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-gray-900 py-12 text-white text-center">
        <p class="text-2xl font-bold mb-4">八本家</p>
        <p class="text-gray-400 text-sm">© 2026 八本家餐飲集團. 內部投資文件</p>
    </footer>

    <script>
        // --- 心智圖資料與邏輯 ---
        const mindmapData = {
            name: "八本家總部",
            children: [
                { name: "品牌行銷", side: "left", children: ["官網平台", "每季行銷", "統一視覺"] },
                { name: "數位營運", side: "left", children: ["QR點餐", "ERP庫存", "數據看板"] },
                { name: "供應鏈", side: "right", children: ["中廚湯頭", "直屬肉品", "大宗採購"] },
                { name: "加盟支援", side: "right", children: ["選址大數據", "統一發包", "教育訓練"] }
            ]
        };

        function drawMindMap() {
            const container = document.getElementById('mindmap-container');
            const svg = document.getElementById('mindmap-svg');
            const centerX = container.offsetWidth / 2;
            const centerY = container.offsetHeight / 2;
            
            container.innerHTML = '';
            svg.innerHTML = '';

            createNode(mindmapData.name, centerX, centerY, "node-center");

            const leftSide = mindmapData.children.filter(c => c.side === "left");
            const rightSide = mindmapData.children.filter(c => c.side === "right");

            const hGap = 180; // 水平間距
            const vGap = 160; // 垂直間距

            leftSide.forEach((branch, i) => {
                const bx = centerX - hGap;
                const by = centerY + (i - (leftSide.length-1)/2) * vGap;
                renderBranch(branch, centerX, centerY, bx, by, "left");
            });

            rightSide.forEach((branch, i) => {
                const bx = centerX + hGap;
                const by = centerY + (i - (rightSide.length-1)/2) * vGap;
                renderBranch(branch, centerX, centerY, bx, by, "right");
            });
        }

        function renderBranch(branch, cx, cy, bx, by, side) {
            drawCurve(cx, cy, bx, by, "#d97706");
            createNode(branch.name, bx, by, "node-branch");

            branch.children.forEach((leaf, i) => {
                const lx = (side === "left") ? bx - 140 : bx + 140;
                const ly = by + (i - (branch.children.length-1)/2) * 50;
                drawCurve(bx, by, lx, ly, "#e5e7eb");
                createNode(leaf, lx, ly, "node-leaf");
            });
        }

        function createNode(text, x, y, className) {
            const div = document.createElement('div');
            div.className = `node ${className}`;
            div.innerText = text;
            div.style.left = `${x}px`;
            div.style.top = `${y}px`;
            document.getElementById('mindmap-container').appendChild(div);
        }

        function drawCurve(x1, y1, x2, y2, color) {
            const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
            const midX = (x1 + x2) / 2;
            path.setAttribute("d", `M ${x1} ${y1} C ${midX} ${y1}, ${midX} ${y2}, ${x2} ${y2}`);
            path.setAttribute("stroke", color);
            path.setAttribute("stroke-width", "2");
            path.setAttribute("fill", "none");
            document.getElementById('mindmap-svg').appendChild(path);
        }

        // --- 財務圖表邏輯 ---
        const financeData = [
            { year: 1, stores: 1, revenue: 1000, profit: 150, note: "建立單店獲利模型" },
            { year: 2, stores: 2, revenue: 2000, profit: 300, note: "第一店回本，利潤投入展店" },
            { year: 3, stores: 3, revenue: 3000, profit: 450, note: "規模效應顯現，品牌力上升" },
            { year: 4, stores: 4, revenue: 4000, profit: 600, note: "供應鏈議價能力大幅提升" },
            { year: 5, stores: 5, revenue: 5000, profit: 750, note: "區域市場佔有率達成標桿" },
            { year: 6, stores: 6, revenue: 6000, profit: 900, note: "全店回本，進入高速獲利期" }
        ];

        let chartInstance;
        function initChart() {
            const ctx = document.getElementById('growthChart').getContext('2d');
            chartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: financeData.map(d => `第 ${d.year} 年`),
                    datasets: [
                        { label: '營收(萬)', data: financeData.map(d => d.revenue), backgroundColor: 'rgba(217, 119, 6, 0.2)', borderColor: '#d97706', borderWidth: 2, order: 2 },
                        { label: '淨利(萬)', type: 'line', data: financeData.map(d => d.profit), borderColor: '#15803d', borderWidth: 3, tension: 0.3, order: 1 }
                    ]
                },
                options: { maintainAspectRatio: false, responsive: true }
            });
        }

        function updateDashboard(idx) {
            const d = financeData[idx];
            document.getElementById('current-year').innerText = d.year;
            document.getElementById('current-stores').innerText = d.stores + " 家";
            document.getElementById('current-revenue').innerText = d.revenue + " 萬";
            document.getElementById('current-profit').innerText = d.profit + " 萬";
            document.getElementById('current-note').innerText = d.note;
        }

        let simTimer = null;
        document.getElementById('play-btn').onclick = function() {
            if(simTimer) { clearInterval(simTimer); simTimer=null; this.innerText="▶ 播放成長演示"; return; }
            let i = 0;
            this.innerText="⏹ 停止演示";
            simTimer = setInterval(() => {
                updateDashboard(i % 6);
                i++;
            }, 1200);
        };

        function scrollToId(id) { document.getElementById(id).scrollIntoView({ behavior: 'smooth' }); }

        window.onload = () => { drawMindMap(); initChart(); };
        window.onresize = drawMindMap;
    </script>
</body>
</html>
